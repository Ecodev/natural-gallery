!function e(t,n,o){function i(r,a){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(u)return u(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[r]={exports:{}};t[r][0].call(c.exports,function(e){var n=t[r][1][e];return i(n?n:e)},c,c.exports,e,t,n,o)}return n[r].exports}for(var u="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}({"/sites/_libraries/natural-gallery.lan/app/build.js":[function(e,t,n){var o;!function(e){var t;!function(t){var n=function(){function t(){this.old_scroll_top=0,this.$pswp=$(".pswp")[0],this.pswp=null,this.minNumberOfRowsAtStart=2,this.organizer=new e.Gallery.Organizer,this.utility=new e.Gallery.Utility,this.bindEvents(),this.initGallery()}return t.prototype.initGallery=function(){for(var e=0;e<naturalGalleries.length;e++){var t=naturalGalleries[e];t.pswpContainer=[],t.selection=[],t.rootElement=$($(".natural-gallery").get(e)),t.bodyElement=t.rootElement.find(".natural-gallery-body"),t.bodyElementWidth=Math.floor(t.bodyElement[0].getBoundingClientRect().width),this.organizer.organize(t),this.addElements(t),this.cleanCategories(t)}},t.prototype.addElements=function(e,t){void 0===t&&(t=null),e||(e=this.getGallery());var n=e.filtered?e.selection:e.images,o=e.rootElement.find(".natural-gallery-next");if(o.show(),e.pswpContainer.length===n.length||!n.length)return void o.hide();t||(t=this.getDefaultPageSize(e));for(var i=e.pswpContainer.length,u=e.pswpContainer.length?n[i].row+t:t,r=i;r<n.length;r++){var a=n[r];if(a.row<u){e.pswpContainer.push({src:a.enlarged,w:a.eWidth,h:a.eHeight,title:a.title});var l=this.getFigure(a,e);a.figure=l,$("<img />").data("id",r).attr("src",n[r].thumbnail).on("load",function(){n[$(this).data("id")].figure.figure.toggleClass("loading loaded")}),e.bodyElement.append(l.figure),this.bindClick(l.image,e),this.styleFigure(a,e)}e.pswpContainer.length===n.length&&o.hide()}e.rootElement.find(".natural-gallery-noresults").hide(),e.rootElement.find(".natural-gallery-visible").text(e.pswpContainer.length),e.rootElement.find(".natural-gallery-total").text(n.length)},t.prototype.cleanCategories=function(e){for(var t={},n=0;n<e.images.length;n++){var o=e.images[n],i=this.getImageCategories(o);if(0!=i.length)for(var u=0;u<i.length;u++)t[o.categories[u]]=null;else t.none=null}e.rootElement.find(".natural-gallery-categories label").each(function(){var e=$(this),n=e.data("id");"undefined"==typeof t[n]&&e.remove()})},t.prototype.getImageCategories=function(e){return"undefined"==typeof e.categories?[]:e.categories.constructor!==Array?[]:e.categories},t.prototype.getDefaultPageSize=function(e){if(e.limit)return e.limit;var t=$(window).height(),n=t-e.bodyElement.offset().top,o=Math.floor(n/(.7*e.thumbnailMaximumHeight));return o<this.minNumberOfRowsAtStart?this.minNumberOfRowsAtStart:o},t.prototype.getFigure=function(e,t){var n=$("<figure></figure>").addClass("loading"),o=$("<a></a>").css("background-image","url("+e.thumbnail+")");if(t.lightbox&&o.attr("href",e.enlarged),t.round&&(n.css("border-radius",t.round),o.css("border-radius",t.round)),n.append(o),e.title&&("true"==t.showLabels||t.showLabels===!0||"hover"==t.showLabels)){var i=$("<span></span>").text(e.title);"hover"==t.showLabels&&i.addClass("hover"),n.append(i)}return{figure:n,image:o}},t.prototype.styleFigure=function(e,t){e.figure.figure.css("width",e.width).css("height",e.height).css("margin-right",t.margin).css("margin-bottom",t.margin),e.last&&e.figure.figure.css("margin-right",0),e.figure.image.css("width",e.width).css("height",e.height)},t.prototype.bindClick=function(e,t){var n=this;e.on("click",function(e){if(e.preventDefault(),t.lightbox){var o=this,r={index:$(this).parent("figure").index()-1,bgOpacity:.85,showHideOpacity:!0,loop:!1};n.pswp=new i(n.$pswp,u,t.pswpContainer,r),n.pswp.init();var a=null;n.pswp.listen("beforeChange",function(e){e>0&&n.pswp.getCurrentIndex()==n.pswp.items.length-1?n.addElements(n.getGallery(o)):e===-1*(n.pswp.items.length-1)&&(a=n.pswp.items.length,n.addElements(n.getGallery(o)))}),n.pswp.listen("afterChange",function(){a&&(n.pswp.goTo(a),a=null)})}})},t.prototype.filterSelection=function(e){for(var t=[],n=this.filterByTerm(e),o=this.filterByCategory(e),i=0;i<n.length;i++)for(var u=n[i],r=0;r<o.length;r++){var a=o[r];if(u.id==a.id){t.push(u);break}}e.selection=t,e.filtered=!0,this.reset(e),this.organizer.organize(e),this.addElements(e)},t.prototype.filterByTerm=function(e){var t=this.utility.removeDiacritics(e.rootElement.find(".natural-gallery-searchTerm input").val()).toLowerCase(),n=[];if(0===t.length)n=e.images;else for(var o=0;o<e.images.length;o++){var i=e.images[o],u=this.utility.removeDiacritics(i.title+" "+(i.description?i.description:"")).toLowerCase();-1!=u.search(t)&&n.push(i)}return n},t.prototype.filterByCategory=function(e){var t=this.getSelectedCategories(e);if(null===t)return e.images;if(0===t.length)return[];for(var n=[],o=0;o<e.images.length;o++){var i=e.images[o],u=this.getImageCategories(i);if(0===u.length&&-1!=t.indexOf("none"))n.push(i);else if(u.length>0)for(var r=0;r<i.categories.length;r++){var a=i.categories[r];if(t.indexOf(a)>=0){n.push(i);break}}}return n},t.prototype.getSelectedCategories=function(e){var t=e.rootElement.find(".natural-gallery-categories input");if(0===t.length)return null;var n=[];return e.rootElement.find(".natural-gallery-categories input:checked").each(function(){n.push($(this).parent().data("id"))}),n},t.prototype.reset=function(e){e.pswpContainer=[],e.bodyElement.find("figure").remove(),e.rootElement.find(".natural-gallery-noresults").show()},t.prototype.getGallery=function(e){if(void 0===e&&(e=null),e){e=$(e).parents(".natural-gallery").get(0);var t=$(".natural-gallery").index(e);return naturalGalleries[t]}return naturalGalleries[0]},t.prototype.resize=function(){for(var e=0;e<naturalGalleries.length;e++){var t=naturalGalleries[e],n=Math.floor(t.bodyElement[0].getBoundingClientRect().width);n!=t.bodyElementWidth&&(t.bodyElementWidth=n,t.bodyElement.find("figure").css("visibility","hidden"),this.organizer.organize(naturalGalleries),this.redraw(t))}},t.prototype.redraw=function(e){for(var t=e?[e]:naturalGalleries,n=0;n<t.length;n++){var o=t[n],i=o.images[o.pswpContainer.length-1].row+1;this.reset(o),this.addElements(o,i)}},t.prototype.bindEvents=function(){var e=this;$('<iframe id="scrollbar-listener"/>').css({position:"fixed",width:"100%",height:0,bottom:0,border:0,"background-color":"transparent"}).on("load",function(){var e=document.body.scrollHeight>document.body.clientHeight,t=null;this.contentWindow.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(function(){var t=document.body.scrollHeight>document.body.clientHeight;t?e||($(top.window).trigger("scrollbar",[!0]),e=!0):e&&($(top.window).trigger("scrollbar",[!1]),e=!1)},100)})}).appendTo("body"),$(window).on("resize",function(){e.resize()}),$(window).on("scrollbar",function(){e.resize()}),$(".natural-gallery-next").on("click",function(t){t.preventDefault(),e.addElements(e.getGallery(this))}),$(".natural-gallery-categories input").on("change",function(){e.filterSelection(e.getGallery(this))}),$('.natural-gallery-searchTerm input[type="text"]').on("keydown",function(t){27==t.keyCode&&$(this).val("");var n=e.getGallery(this);n.lastSearch!=$(this).val()&&(n.lastSearch=$(this).val(),e.filterSelection(n))}).on("blur",function(){var t=e.getGallery(this);t.lastSearch!=$(this).val()&&(t.lastSearch=$(this).val(),e.filterSelection(t))}),1==naturalGalleries.length&&0===this.getGallery().limit&&$(document).on("scroll",function(){var t=e.getGallery().bodyElement,n=t.offset().top+t.height()+100,o=$(document).scrollTop(),i=$(window).height(),u=o-e.old_scroll_top;e.old_scroll_top=o,u>0&&o+i>n&&e.addElements(e.getGallery(),1)})},t}();t.Core=n}(t=e.Gallery||(e.Gallery={}))}(o||(o={}));var o;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.organize=function(e){for(var t=e.constructor===Array?e:[e],n=0;n<t.length;n++){var o=t[n],i=o.filtered?o.selection:o.images;"natural"==o.thumbnailFormat?this.organizeNatural(i,o.bodyElementWidth,o.thumbnailMaximumHeight,o.margin):"square"==o.thumbnailFormat&&this.organizeSquare(i,o.bodyElementWidth,o.imagesPerRow,o.margin)}},e.prototype.organizeSquare=function(e,t,n,o){o||(o=0),n||(n=4);for(var i=(t-(n-1)*o)/n,u=0;u<e.length;u++){var r=e[u];r.width=Math.floor(i),r.height=Math.floor(i),r.last=u%n===n-1,r.row=Math.floor(u/n)}},e.prototype.organizeNatural=function(e,t,n,o,i){void 0===i&&(i=null),i||(i=0),o||(o=0),n||(n=300);for(var u=1;u<=e.length;u++){var r=e.slice(0,u),a=this.getRowWidth(n,o,r);if(a>=t){this.computeSizes(r,t,o,i),this.organizeNatural(e.slice(u),t,n,o,i+1);break}if(u==e.length){this.computeSizes(r,null,o,i,n);break}}},e.prototype.computeSizes=function(e,t,n,o,i){void 0===i&&(i=null);for(var u=t?this.getRowHeight(t,n,e):i,r=this.getRowWidth(u,n,e),a=t?this.apportionExcess(e,t,r):0,l=0,s=0;s<e.length;s++){var c=e[s],d=this.getImageRatio(c)*u-a;l+=d-Math.floor(d),d=Math.floor(d),(l>=1||s===e.length-1&&1===Math.round(l))&&(d++,l--),c.oldWidth=c.width,c.oldHeight=c.height,c.width=d,c.height=Math.floor(u),c.row=o,c.last=s==e.length-1}},e.prototype.getRowWidth=function(e,t,n){return t*(n.length-1)+this.getRatios(n)*e},e.prototype.getRowHeight=function(e,t,n){return e/this.getRatios(n)+t*(n.length-1)},e.prototype.getRatios=function(e){for(var t=this,n=0,o=0;o<e.length;o++)n+=t.getImageRatio(e[o]);return n},e.prototype.getImageRatio=function(e){return Number(e.tWidth)/Number(e.tHeight)},e.prototype.apportionExcess=function(e,t,n){var o=n-t,i=o/e.length;return i},e}();e.Organizer=t}(t=e.Gallery||(e.Gallery={}))}(o||(o={}));var o;!function(e){var t;!function(e){var t=function(){function e(){this.defaultDiacriticsRemovalMap=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}]}return e.prototype.construct=function(){},e.prototype.removeDiacritics=function(e){for(var t=0;t<this.defaultDiacriticsRemovalMap.length;t++)e=e.replace(this.defaultDiacriticsRemovalMap[t].letters,this.defaultDiacriticsRemovalMap[t].base);return e},e}();e.Utility=t}(t=e.Gallery||(e.Gallery={}))}(o||(o={}));var i=e("PhotoSwipe"),u=e("../node_modules/photoswipe/dist/photoswipe-ui-default");new o.Gallery.Core},{"../node_modules/photoswipe/dist/photoswipe-ui-default":"/sites/_libraries/natural-gallery.lan/node_modules/photoswipe/dist/photoswipe-ui-default.js",PhotoSwipe:"/sites/_libraries/natural-gallery.lan/node_modules/PhotoSwipe/dist/photoswipe.js"}],"/sites/_libraries/natural-gallery.lan/node_modules/PhotoSwipe/dist/photoswipe.js":[function(e,t,n){!function(e,o){"function"==typeof define&&define.amd?define(o):"object"==typeof n?t.exports=o():e.PhotoSwipe=o()}(this,function(){"use strict";var e=function(e,t,n,o){var i={features:null,bind:function(e,t,n,o){var i=(o?"remove":"add")+"EventListener";t=t.split(" ");for(var u=0;u<t.length;u++)t[u]&&e[i](t[u],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){i.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){i.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(i.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var o=e.length;o--;)if(e[o][n]===t)return o;return-1},extend:function(e,t,n){for(var o in t)if(t.hasOwnProperty(o)){if(n&&e.hasOwnProperty(o))continue;e[o]=t[o]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(i.features)return i.features;var e=i.createEl(),t=e.style,n="",o={};if(o.oldIE=document.all&&!document.addEventListener,o.touch="ontouchstart"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!o.pointerEvent){var u=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var r=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);r&&r.length>0&&(r=parseInt(r[1],10),r>=1&&8>r&&(o.isOldIOSPhone=!0))}var a=u.match(/Android\s([0-9\.]*)/),l=a?a[1]:0;l=parseFloat(l),l>=1&&(4.4>l&&(o.isOldAndroid=!0),o.androidVersion=l),o.isMobileOpera=/opera mini|opera mobi/i.test(u)}for(var s,c,d=["transform","perspective","animationName"],p=["","webkit","Moz","ms","O"],m=0;4>m;m++){n=p[m];for(var f=0;3>f;f++)s=d[f],c=n+(n?s.charAt(0).toUpperCase()+s.slice(1):s),!o[s]&&c in t&&(o[s]=c);n&&!o.raf&&(n=n.toLowerCase(),o.raf=window[n+"RequestAnimationFrame"],o.raf&&(o.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!o.raf){var h=0;o.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-h)),o=window.setTimeout(function(){e(t+n)},n);return h=t+n,o},o.caf=function(e){clearTimeout(e)}}return o.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.features=o,o}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(e,t,n,o){t=t.split(" ");for(var i,u=(o?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},a=0;a<t.length;a++)if(i=t[a])if("object"==typeof n&&n.handleEvent){if(o){if(!n["oldIE"+i])return!1}else n["oldIE"+i]=r;e[u]("on"+i,n["oldIE"+i])}else e[u]("on"+i,n)});var u=this,r=25,a=3,l={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};i.extend(l,o);var s,c,d,p,m,f,h,g,E,v,y,w,b,x,C,F,A,D,I,T,S,_,B,M,O,k,R,z,L,P,Z,N,G,U,H,W,$,K,q,Y,V,j,X,J,Q,ee,te,ne,oe,ie,ue,re,ae,le,se,ce,de=function(){return{x:0,y:0}},pe=de(),me=de(),fe=de(),he={},ge=0,Ee={},ve=de(),ye=0,we=!0,be=[],xe={},Ce=!1,Fe=function(e,t){i.extend(u,t.publicMethods),be.push(e)},Ae=function(e){var t=Qt();return e>t-1?e-t:0>e?t+e:e},De={},Ie=function(e,t){return De[e]||(De[e]=[]),De[e].push(t)},Te=function(e){var t=De[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var o=0;o<t.length;o++)t[o].apply(u,n)}},Se=function(){return(new Date).getTime()},_e=function(e){le=e,u.bg.style.opacity=e*l.bgOpacity},Be=function(e,t,n,o,i){(!Ce||i&&i!==u.currItem)&&(o/=i?i.fitRatio:u.currItem.fitRatio),e[_]=w+t+"px, "+n+"px"+b+" scale("+o+")"},Me=function(e){oe&&(e&&(v>u.currItem.fitRatio?Ce||(pn(u.currItem,!1,!0),Ce=!0):Ce&&(pn(u.currItem),Ce=!1)),Be(oe,fe.x,fe.y,v))},Oe=function(e){e.container&&Be(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},ke=function(e,t){t[_]=w+e+"px, 0px"+b},Re=function(e,t){if(!l.loop&&t){var n=p+(ve.x*ge-e)/ve.x,o=Math.round(e-vt.x);(0>n&&o>0||n>=Qt()-1&&0>o)&&(e=vt.x+o*l.mainScrollEndFriction)}vt.x=e,ke(e,m)},ze=function(e,t){var n=yt[e]-Ee[e];return me[e]+pe[e]+n-n*(t/y)},Le=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Pe=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Ze=null,Ne=function(){Ze&&(i.unbind(document,"mousemove",Ne),i.addClass(e,"pswp--has_mouse"),l.mouseUsed=!0,Te("mouseUsed")),Ze=setTimeout(function(){Ze=null},100)},Ge=function(){i.bind(document,"keydown",u),Z.transform&&i.bind(u.scrollWrap,"click",u),l.mouseUsed||i.bind(document,"mousemove",Ne),i.bind(window,"resize scroll",u),Te("bindEvents")},Ue=function(){i.unbind(window,"resize",u),i.unbind(window,"scroll",E.scroll),i.unbind(document,"keydown",u),i.unbind(document,"mousemove",Ne),Z.transform&&i.unbind(u.scrollWrap,"click",u),K&&i.unbind(window,h,u),Te("unbindEvents")},He=function(e,t){var n=ln(u.currItem,he,e);return t&&(ne=n),n},We=function(e){return e||(e=u.currItem),e.initialZoomLevel},$e=function(e){return e||(e=u.currItem),e.w>0?l.maxSpreadZoom:1},Ke=function(e,t,n,o){return o===u.currItem.initialZoomLevel?(n[e]=u.currItem.initialPosition[e],!0):(n[e]=ze(e,o),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]?(n[e]=t.max[e],!0):!1)},qe=function(){if(_){var t=Z.perspective&&!M;return w="translate"+(t?"3d(":"("),void(b=Z.perspective?", 0px)":")")}_="left",i.addClass(e,"pswp--ie"),ke=function(e,t){t.left=e+"px"},Oe=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,o=t*e.w,i=t*e.h;n.width=o+"px",n.height=i+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Me=function(){if(oe){var e=oe,t=u.currItem,n=t.fitRatio>1?1:t.fitRatio,o=n*t.w,i=n*t.h;e.width=o+"px",e.height=i+"px",e.left=fe.x+"px",e.top=fe.y+"px"}}},Ye=function(e){var t="";l.escKey&&27===e.keyCode?t="close":l.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,u[t]()))},Ve=function(e){e&&(V||Y||ie||W)&&(e.preventDefault(),e.stopPropagation())},je=function(){u.setScrollOffset(0,i.getScrollY())},Xe={},Je=0,Qe=function(e){Xe[e]&&(Xe[e].raf&&k(Xe[e].raf),Je--,delete Xe[e])},et=function(e){Xe[e]&&Qe(e),Xe[e]||(Je++,Xe[e]={})},tt=function(){for(var e in Xe)Xe.hasOwnProperty(e)&&Qe(e)},nt=function(e,t,n,o,i,u,r){var a,l=Se();et(e);var s=function(){if(Xe[e]){if(a=Se()-l,a>=o)return Qe(e),u(n),void(r&&r());u((n-t)*i(a/o)+t),Xe[e].raf=O(s)}};s()},ot={shout:Te,listen:Ie,viewportSize:he,options:l,isMainScrollAnimating:function(){return ie},getZoomLevel:function(){return v},getCurrentIndex:function(){return p},isDragging:function(){return K},isZooming:function(){return Q},setScrollOffset:function(e,t){Ee.x=e,P=Ee.y=t,Te("updateScrollOffset",Ee)},applyZoomPan:function(e,t,n,o){fe.x=t,fe.y=n,v=e,Me(o)},init:function(){if(!s&&!c){var n;u.framework=i,u.template=e,u.bg=i.getChildByClass(e,"pswp__bg"),R=e.className,s=!0,Z=i.detectFeatures(),O=Z.raf,k=Z.caf,_=Z.transform,L=Z.oldIE,u.scrollWrap=i.getChildByClass(e,"pswp__scroll-wrap"),u.container=i.getChildByClass(u.scrollWrap,"pswp__container"),m=u.container.style,u.itemHolders=F=[{el:u.container.children[0],wrap:0,index:-1},{el:u.container.children[1],wrap:0,index:-1},{el:u.container.children[2],wrap:0,index:-1}],F[0].el.style.display=F[2].el.style.display="none",qe(),E={resize:u.updateSize,scroll:je,keydown:Ye,click:Ve};var o=Z.isOldIOSPhone||Z.isOldAndroid||Z.isMobileOpera;for(Z.animationName&&Z.transform&&!o||(l.showAnimationDuration=l.hideAnimationDuration=0),n=0;n<be.length;n++)u["init"+be[n]]();if(t){var r=u.ui=new t(u,i);r.init()}Te("firstUpdate"),p=p||l.index||0,(isNaN(p)||0>p||p>=Qt())&&(p=0),u.currItem=Jt(p),(Z.isOldIOSPhone||Z.isOldAndroid)&&(we=!1),e.setAttribute("aria-hidden","false"),l.modal&&(we?e.style.position="fixed":(e.style.position="absolute",e.style.top=i.getScrollY()+"px")),void 0===P&&(Te("initialLayout"),P=z=i.getScrollY());var d="pswp--open ";for(l.mainClass&&(d+=l.mainClass+" "),l.showHideOpacity&&(d+="pswp--animate_opacity "),d+=M?"pswp--touch":"pswp--notouch",d+=Z.animationName?" pswp--css_animation":"",d+=Z.svg?" pswp--svg":"",i.addClass(e,d),u.updateSize(),f=-1,ye=null,n=0;a>n;n++)ke((n+f)*ve.x,F[n].el.style);L||i.bind(u.scrollWrap,g,u),Ie("initialZoomInEnd",function(){u.setContent(F[0],p-1),u.setContent(F[2],p+1),F[0].el.style.display=F[2].el.style.display="block",l.focus&&e.focus(),Ge()}),u.setContent(F[1],p),u.updateCurrItem(),Te("afterInit"),we||(x=setInterval(function(){Je||K||Q||v!==u.currItem.initialZoomLevel||u.updateSize()},1e3)),i.addClass(e,"pswp--visible")}},close:function(){s&&(s=!1,c=!0,Te("close"),Ue(),tn(u.currItem,null,!0,u.destroy))},destroy:function(){Te("destroy"),Yt&&clearTimeout(Yt),e.setAttribute("aria-hidden","true"),e.className=R,x&&clearInterval(x),i.unbind(u.scrollWrap,g,u),i.unbind(window,"scroll",u),Ft(),tt(),De=null},panTo:function(e,t,n){n||(e>ne.min.x?e=ne.min.x:e<ne.max.x&&(e=ne.max.x),t>ne.min.y?t=ne.min.y:t<ne.max.y&&(t=ne.max.y)),fe.x=e,fe.y=t,Me()},handleEvent:function(e){e=e||window.event,E[e.type]&&E[e.type](e)},goTo:function(e){e=Ae(e);var t=e-p;ye=t,p=e,u.currItem=Jt(p),ge-=t,Re(ve.x*ge),tt(),ie=!1,u.updateCurrItem()},next:function(){u.goTo(p+1)},prev:function(){u.goTo(p-1)},updateCurrZoomItem:function(e){if(e&&Te("beforeChange",0),F[1].el.children.length){var t=F[1].el.children[0];oe=i.hasClass(t,"pswp__zoom-wrap")?t.style:null}else oe=null;ne=u.currItem.bounds,y=v=u.currItem.initialZoomLevel,fe.x=ne.center.x,fe.y=ne.center.y,e&&Te("afterChange")},invalidateCurrItems:function(){C=!0;for(var e=0;a>e;e++)F[e].item&&(F[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ye){var t,n=Math.abs(ye);if(!(e&&2>n)){u.currItem=Jt(p),Ce=!1,Te("beforeChange",ye),n>=a&&(f+=ye+(ye>0?-a:a),n=a);for(var o=0;n>o;o++)ye>0?(t=F.shift(),F[a-1]=t,f++,ke((f+2)*ve.x,t.el.style),u.setContent(t,p-n+o+1+1)):(t=F.pop(),F.unshift(t),f--,ke(f*ve.x,t.el.style),u.setContent(t,p+n-o-1-1));if(oe&&1===Math.abs(ye)){var i=Jt(A);i.initialZoomLevel!==v&&(ln(i,he),pn(i),Oe(i))}ye=0,u.updateCurrZoomItem(),A=p,Te("afterChange")}}},updateSize:function(t){if(!we&&l.modal){var n=i.getScrollY();if(P!==n&&(e.style.top=n+"px",P=n),!t&&xe.x===window.innerWidth&&xe.y===window.innerHeight)return;xe.x=window.innerWidth,xe.y=window.innerHeight,e.style.height=xe.y+"px"}if(he.x=u.scrollWrap.clientWidth,he.y=u.scrollWrap.clientHeight,je(),ve.x=he.x+Math.round(he.x*l.spacing),ve.y=he.y,Re(ve.x*ge),Te("beforeResize"),void 0!==f){for(var o,r,s,c=0;a>c;c++)o=F[c],ke((c+f)*ve.x,o.el.style),s=p+c-1,l.loop&&Qt()>2&&(s=Ae(s)),r=Jt(s),r&&(C||r.needsUpdate||!r.bounds)?(u.cleanSlide(r),u.setContent(o,s),1===c&&(u.currItem=r,u.updateCurrZoomItem(!0)),r.needsUpdate=!1):-1===o.index&&s>=0&&u.setContent(o,s),r&&r.container&&(ln(r,he),pn(r),Oe(r));C=!1}y=v=u.currItem.initialZoomLevel,ne=u.currItem.bounds,ne&&(fe.x=ne.center.x,fe.y=ne.center.y,Me(!0)),Te("resize")},zoomTo:function(e,t,n,o,u){t&&(y=v,yt.x=Math.abs(t.x)-fe.x,yt.y=Math.abs(t.y)-fe.y,Le(me,fe));var r=He(e,!1),a={};Ke("x",r,a,e),Ke("y",r,a,e);var l=v,s={x:fe.x,y:fe.y};Pe(a);var c=function(t){1===t?(v=e,fe.x=a.x,fe.y=a.y):(v=(e-l)*t+l,fe.x=(a.x-s.x)*t+s.x,fe.y=(a.y-s.y)*t+s.y),u&&u(t),Me(1===t)};n?nt("customZoomTo",0,1,n,o||i.easing.sine.inOut,c):c(1)}},it=30,ut=10,rt={},at={},lt={},st={},ct={},dt=[],pt={},mt=[],ft={},ht=0,gt=de(),Et=0,vt=de(),yt=de(),wt=de(),bt=function(e,t){return e.x===t.x&&e.y===t.y},xt=function(e,t){return Math.abs(e.x-t.x)<r&&Math.abs(e.y-t.y)<r},Ct=function(e,t){return ft.x=Math.abs(e.x-t.x),ft.y=Math.abs(e.y-t.y),Math.sqrt(ft.x*ft.x+ft.y*ft.y)},Ft=function(){j&&(k(j),j=null)},At=function(){K&&(j=O(At),Gt())},Dt=function(){return!("fit"===l.scaleMode&&v===u.currItem.initialZoomLevel)},It=function(e,t){return e&&e!==document?e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1?!1:t(e)?e:It(e.parentNode,t):!1},Tt={},St=function(e,t){return Tt.prevent=!It(e.target,l.isClickableElement),Te("preventDragEvent",e,t,Tt),Tt.prevent},_t=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Bt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Mt=function(e,t,n){if(e-G>50){var o=mt.length>2?mt.shift():{};o.x=t,o.y=n,mt.push(o),G=e}},Ot=function(){var e=fe.y-u.currItem.initialPosition.y;return 1-Math.abs(e/(he.y/2))},kt={},Rt={},zt=[],Lt=function(e){for(;zt.length>0;)zt.pop();return B?(ce=0,dt.forEach(function(e){0===ce?zt[0]=e:1===ce&&(zt[1]=e),ce++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(zt[0]=_t(e.touches[0],kt),e.touches.length>1&&(zt[1]=_t(e.touches[1],Rt))):(kt.x=e.pageX,kt.y=e.pageY,kt.id="",zt[0]=kt),zt},Pt=function(e,t){var n,o,i,r,a=0,s=fe[e]+t[e],c=t[e]>0,d=vt.x+t.x,p=vt.x-pt.x;return n=s>ne.min[e]||s<ne.max[e]?l.panEndFriction:1,s=fe[e]+t[e]*n,!l.allowPanToNext&&v!==u.currItem.initialZoomLevel||(oe?"h"!==ue||"x"!==e||Y||(c?(s>ne.min[e]&&(n=l.panEndFriction,a=ne.min[e]-s,o=ne.min[e]-me[e]),(0>=o||0>p)&&Qt()>1?(r=d,0>p&&d>pt.x&&(r=pt.x)):ne.min.x!==ne.max.x&&(i=s)):(s<ne.max[e]&&(n=l.panEndFriction,a=s-ne.max[e],o=me[e]-ne.max[e]),(0>=o||p>0)&&Qt()>1?(r=d,p>0&&d<pt.x&&(r=pt.x)):ne.min.x!==ne.max.x&&(i=s))):r=d,"x"!==e)?void(ie||X||v>u.currItem.fitRatio&&(fe[e]+=t[e]*n)):(void 0!==r&&(Re(r,!0),X=r===pt.x?!1:!0),ne.min.x!==ne.max.x&&(void 0!==i?fe.x=i:X||(fe.x+=t.x*n)),void 0!==r)},Zt=function(e){if(!("mousedown"===e.type&&e.button>0)){
if(Xt)return void e.preventDefault();if(!$||"mousedown"!==e.type){if(St(e,!0)&&e.preventDefault(),Te("pointerDown"),B){var t=i.arraySearch(dt,e.pointerId,"id");0>t&&(t=dt.length),dt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Lt(e),o=n.length;J=null,tt(),K&&1!==o||(K=re=!0,i.bind(window,h,u),H=se=ae=W=X=V=q=Y=!1,ue=null,Te("firstTouchStart",n),Le(me,fe),pe.x=pe.y=0,Le(st,n[0]),Le(ct,st),pt.x=ve.x*ge,mt=[{x:st.x,y:st.y}],G=N=Se(),He(v,!0),Ft(),At()),!Q&&o>1&&!ie&&!X&&(y=v,Y=!1,Q=q=!0,pe.y=pe.x=0,Le(me,fe),Le(rt,n[0]),Le(at,n[1]),Bt(rt,at,wt),yt.x=Math.abs(wt.x)-fe.x,yt.y=Math.abs(wt.y)-fe.y,ee=te=Ct(rt,at))}}},Nt=function(e){if(e.preventDefault(),B){var t=i.arraySearch(dt,e.pointerId,"id");if(t>-1){var n=dt[t];n.x=e.pageX,n.y=e.pageY}}if(K){var o=Lt(e);if(ue||V||Q)J=o;else if(vt.x!==ve.x*ge)ue="h";else{var u=Math.abs(o[0].x-st.x)-Math.abs(o[0].y-st.y);Math.abs(u)>=ut&&(ue=u>0?"h":"v",J=o)}}},Gt=function(){if(J){var e=J.length;if(0!==e)if(Le(rt,J[0]),lt.x=rt.x-st.x,lt.y=rt.y-st.y,Q&&e>1){if(st.x=rt.x,st.y=rt.y,!lt.x&&!lt.y&&bt(J[1],at))return;Le(at,J[1]),Y||(Y=!0,Te("zoomGestureStarted"));var t=Ct(rt,at),n=Kt(t);n>u.currItem.initialZoomLevel+u.currItem.initialZoomLevel/15&&(se=!0);var o=1,i=We(),r=$e();if(i>n)if(l.pinchToClose&&!se&&y<=u.currItem.initialZoomLevel){var a=i-n,s=1-a/(i/1.2);_e(s),Te("onPinchClose",s),ae=!0}else o=(i-n)/i,o>1&&(o=1),n=i-o*(i/3);else n>r&&(o=(n-r)/(6*i),o>1&&(o=1),n=r+o*i);0>o&&(o=0),ee=t,Bt(rt,at,gt),pe.x+=gt.x-wt.x,pe.y+=gt.y-wt.y,Le(wt,gt),fe.x=ze("x",n),fe.y=ze("y",n),H=n>v,v=n,Me()}else{if(!ue)return;if(re&&(re=!1,Math.abs(lt.x)>=ut&&(lt.x-=J[0].x-ct.x),Math.abs(lt.y)>=ut&&(lt.y-=J[0].y-ct.y)),st.x=rt.x,st.y=rt.y,0===lt.x&&0===lt.y)return;if("v"===ue&&l.closeOnVerticalDrag&&!Dt()){pe.y+=lt.y,fe.y+=lt.y;var c=Ot();return W=!0,Te("onVerticalDrag",c),_e(c),void Me()}Mt(Se(),rt.x,rt.y),V=!0,ne=u.currItem.bounds;var d=Pt("x",lt);d||(Pt("y",lt),Pe(fe),Me())}}},Ut=function(e){if(Z.isOldAndroid){if($&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout($),$=setTimeout(function(){$=0},600))}Te("pointerUp"),St(e,!1)&&e.preventDefault();var t;if(B){var n=i.arraySearch(dt,e.pointerId,"id");if(n>-1)if(t=dt.splice(n,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var o={4:"mouse",2:"touch",3:"pen"};t.type=o[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var r,a=Lt(e),s=a.length;if("mouseup"===e.type&&(s=0),2===s)return J=null,!0;1===s&&Le(ct,a[0]),0!==s||ue||ie||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Te("touchRelease",e,t));var c=-1;if(0===s&&(K=!1,i.unbind(window,h,u),Ft(),Q?c=0:-1!==Et&&(c=Se()-Et)),Et=1===s?Se():-1,r=-1!==c&&150>c?"zoom":"swipe",Q&&2>s&&(Q=!1,1===s&&(r="zoomPointerUp"),Te("zoomGestureEnded")),J=null,V||Y||ie||W)if(tt(),U||(U=Ht()),U.calculateSwipeSpeed("x"),W){var d=Ot();if(d<l.verticalDragRange)u.close();else{var p=fe.y,m=le;nt("verticalDrag",0,1,300,i.easing.cubic.out,function(e){fe.y=(u.currItem.initialPosition.y-p)*e+p,_e((1-m)*e+m),Me()}),Te("onVerticalDrag",1)}}else{if((X||ie)&&0===s){var f=$t(r,U);if(f)return;r="zoomPointerUp"}if(!ie)return"swipe"!==r?void qt():void(!X&&v>u.currItem.fitRatio&&Wt(U))}},Ht=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(o){mt.length>1?(e=Se()-G+50,t=mt[mt.length-2][o]):(e=Se()-N,t=ct[o]),n.lastFlickOffset[o]=st[o]-t,n.lastFlickDist[o]=Math.abs(n.lastFlickOffset[o]),n.lastFlickDist[o]>20?n.lastFlickSpeed[o]=n.lastFlickOffset[o]/e:n.lastFlickSpeed[o]=0,Math.abs(n.lastFlickSpeed[o])<.1&&(n.lastFlickSpeed[o]=0),n.slowDownRatio[o]=.95,n.slowDownRatioReverse[o]=1-n.slowDownRatio[o],n.speedDecelerationRatio[o]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(fe[e]>ne.min[e]?n.backAnimDestination[e]=ne.min[e]:fe[e]<ne.max[e]&&(n.backAnimDestination[e]=ne.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,nt("bounceZoomPan"+e,fe[e],n.backAnimDestination[e],t||300,i.easing.sine.out,function(t){fe[e]=t,Me()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,fe[e]+=n.distanceOffset[e])},panAnimLoop:function(){return Xe.zoomPan&&(Xe.zoomPan.raf=O(n.panAnimLoop),n.now=Se(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Me(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05)?(fe.x=Math.round(fe.x),fe.y=Math.round(fe.y),Me(),void Qe("zoomPan")):void 0}};return n},Wt=function(e){return e.calculateSwipeSpeed("y"),ne=u.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(et("zoomPan"),e.lastNow=Se(),void e.panAnimLoop())},$t=function(e,t){var n;ie||(ht=p);var o;if("swipe"===e){var r=st.x-ct.x,a=t.lastFlickDist.x<10;r>it&&(a||t.lastFlickOffset.x>20)?o=-1:-it>r&&(a||t.lastFlickOffset.x<-20)&&(o=1)}var s;o&&(p+=o,0>p?(p=l.loop?Qt()-1:0,s=!0):p>=Qt()&&(p=l.loop?0:Qt()-1,s=!0),(!s||l.loop)&&(ye+=o,ge-=o,n=!0));var c,d=ve.x*ge,m=Math.abs(d-vt.x);return n||d>vt.x==t.lastFlickSpeed.x>0?(c=Math.abs(t.lastFlickSpeed.x)>0?m/Math.abs(t.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,ht===p&&(n=!1),ie=!0,Te("mainScrollAnimStart"),nt("mainScroll",vt.x,d,c,i.easing.cubic.out,Re,function(){tt(),ie=!1,ht=-1,(n||ht!==p)&&u.updateCurrItem(),Te("mainScrollAnimComplete")}),n&&u.updateCurrItem(!0),n},Kt=function(e){return 1/te*e*y},qt=function(){var e=v,t=We(),n=$e();t>v?e=t:v>n&&(e=n);var o,r=1,a=le;return ae&&!H&&!se&&t>v?(u.close(),!0):(ae&&(o=function(e){_e((r-a)*e+a)}),u.zoomTo(e,0,200,i.easing.cubic.out,o),!0)};Fe("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,o,i){D=e+t,I=e+n,T=e+o,S=i?e+i:""};B=Z.pointerEvent,B&&Z.touch&&(Z.touch=!1),B?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):Z.touch?(e("touch","start","move","end","cancel"),M=!0):e("mouse","down","move","up"),h=I+" "+T+" "+S,g=D,B&&!M&&(M=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),u.likelyTouchDevice=M,E[D]=Zt,E[I]=Nt,E[T]=Ut,S&&(E[S]=E[T]),Z.touch&&(g+=" mousedown",h+=" mousemove mouseup",E.mousedown=E[D],E.mousemove=E[I],E.mouseup=E[T]),M||(l.allowPanToNext=!1)}}});var Yt,Vt,jt,Xt,Jt,Qt,en,tn=function(t,n,o,r){Yt&&clearTimeout(Yt),Xt=!0,jt=!0;var a;t.initialLayout?(a=t.initialLayout,t.initialLayout=null):a=l.getThumbBoundsFn&&l.getThumbBoundsFn(p);var s=o?l.hideAnimationDuration:l.showAnimationDuration,c=function(){Qe("initialZoom"),o?(u.template.removeAttribute("style"),u.bg.removeAttribute("style")):(_e(1),n&&(n.style.display="block"),i.addClass(e,"pswp--animated-in"),Te("initialZoom"+(o?"OutEnd":"InEnd"))),r&&r(),Xt=!1};if(!s||!a||void 0===a.x)return Te("initialZoom"+(o?"Out":"In")),v=t.initialZoomLevel,Le(fe,t.initialPosition),Me(),e.style.opacity=o?0:1,_e(1),void(s?setTimeout(function(){c()},s):c());var m=function(){var n=d,r=!u.currItem.src||u.currItem.loadError||l.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),o||(v=a.w/t.w,fe.x=a.x,fe.y=a.y-z,u[r?"template":"bg"].style.opacity=.001,Me()),et("initialZoom"),o&&!n&&i.removeClass(e,"pswp--animated-in"),r&&(o?i[(n?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){i.addClass(e,"pswp--animate_opacity")},30)),Yt=setTimeout(function(){if(Te("initialZoom"+(o?"Out":"In")),o){var u=a.w/t.w,l={x:fe.x,y:fe.y},d=v,p=le,m=function(t){1===t?(v=u,fe.x=a.x,fe.y=a.y-P):(v=(u-d)*t+d,fe.x=(a.x-l.x)*t+l.x,fe.y=(a.y-P-l.y)*t+l.y),Me(),r?e.style.opacity=1-t:_e(p-t*p)};n?nt("initialZoom",0,1,s,i.easing.cubic.out,m,c):(m(1),Yt=setTimeout(c,s+20))}else v=t.initialZoomLevel,Le(fe,t.initialPosition),Me(),_e(1),r?e.style.opacity=1:_e(1),Yt=setTimeout(c,s+20)},o?25:90)};m()},nn={},on=[],un={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Vt.length}},rn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},an=function(e,t,n){var o=e.bounds;o.center.x=Math.round((nn.x-t)/2),o.center.y=Math.round((nn.y-n)/2)+e.vGap.top,o.max.x=t>nn.x?Math.round(nn.x-t):o.center.x,o.max.y=n>nn.y?Math.round(nn.y-n)+e.vGap.top:o.center.y,o.min.x=t>nn.x?0:o.center.x,o.min.y=n>nn.y?e.vGap.top:o.center.y},ln=function(e,t,n){if(e.src&&!e.loadError){var o=!n;if(o&&(e.vGap||(e.vGap={top:0,bottom:0}),Te("parseVerticalMargin",e)),nn.x=t.x,nn.y=t.y-e.vGap.top-e.vGap.bottom,o){var i=nn.x/e.w,u=nn.y/e.h;e.fitRatio=u>i?i:u;var r=l.scaleMode;"orig"===r?n=1:"fit"===r&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=rn())}if(!n)return;return an(e,e.w*n,e.h*n),o&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=rn(),e.initialPosition=e.bounds.center,e.bounds},sn=function(e,t,n,o,i,r){t.loadError||o&&(t.imageAppended=!0,pn(t,o,t===u.currItem&&Ce),n.appendChild(o),r&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},cn=function(e){e.loading=!0,e.loaded=!1;var t=e.img=i.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},dn=function(e,t){return e.src&&e.loadError&&e.container?(t&&(e.container.innerHTML=""),e.container.innerHTML=l.errorMsg.replace("%url%",e.src),!0):void 0},pn=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var o=n?e.w:Math.round(e.w*e.fitRatio),i=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=o+"px",e.placeholder.style.height=i+"px"),t.style.width=o+"px",t.style.height=i+"px"}},mn=function(){if(on.length){for(var e,t=0;t<on.length;t++)e=on[t],e.holder.index===e.index&&sn(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);on=[]}};Fe("Controller",{publicMethods:{lazyLoadItem:function(e){e=Ae(e);var t=Jt(e);t&&(!t.loaded&&!t.loading||C)&&(Te("gettingData",e,t),t.src&&cn(t))},initController:function(){i.extend(l,un,!0),u.items=Vt=n,Jt=u.getItemAt,Qt=l.getNumItemsFn,en=l.loop,Qt()<3&&(l.loop=!1),Ie("beforeChange",function(e){var t,n=l.preload,o=null===e?!0:e>=0,i=Math.min(n[0],Qt()),r=Math.min(n[1],Qt());for(t=1;(o?r:i)>=t;t++)u.lazyLoadItem(p+t);for(t=1;(o?i:r)>=t;t++)u.lazyLoadItem(p-t)}),Ie("initialLayout",function(){u.currItem.initialLayout=l.getThumbBoundsFn&&l.getThumbBoundsFn(p)}),Ie("mainScrollAnimComplete",mn),Ie("initialZoomInEnd",mn),Ie("destroy",function(){for(var e,t=0;t<Vt.length;t++)e=Vt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);on=null})},getItemAt:function(e){return e>=0&&void 0!==Vt[e]?Vt[e]:!1},allowProgressiveImg:function(){return l.forceProgressiveLoading||!M||l.mouseUsed||screen.width>1200},setContent:function(e,t){l.loop&&(t=Ae(t));var n=u.getItemAt(e.index);n&&(n.container=null);var o,r=u.getItemAt(t);if(!r)return void(e.el.innerHTML="");Te("gettingData",t,r),e.index=t,e.item=r;var a=r.container=i.createEl("pswp__zoom-wrap");if(!r.src&&r.html&&(r.html.tagName?a.appendChild(r.html):a.innerHTML=r.html),dn(r),ln(r,he),!r.src||r.loadError||r.loaded)r.src&&!r.loadError&&(o=i.createEl("pswp__img","img"),o.style.opacity=1,o.src=r.src,pn(r,o),sn(t,r,a,o,!0));else{if(r.loadComplete=function(n){if(s){if(e&&e.index===t){if(dn(n,!0))return n.loadComplete=n.img=null,ln(n,he),Oe(n),void(e.index===p&&u.updateCurrZoomItem());n.imageAppended?!Xt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):Z.transform&&(ie||Xt)?on.push({item:n,baseDiv:a,img:n.img,index:t,holder:e,clearPlaceholder:!0}):sn(t,n,a,n.img,ie||Xt,!0)}n.loadComplete=null,n.img=null,Te("imageLoadComplete",t,n)}},i.features.transform){var c="pswp__img pswp__img--placeholder";c+=r.msrc?"":" pswp__img--placeholder--blank";var d=i.createEl(c,r.msrc?"img":"");r.msrc&&(d.src=r.msrc),pn(r,d),a.appendChild(d),r.placeholder=d}r.loading||cn(r),u.allowProgressiveImg()&&(!jt&&Z.transform?on.push({item:r,baseDiv:a,img:r.img,index:t,holder:e}):sn(t,r,a,r.img,!0,!0))}jt||t!==p?Oe(r):(oe=a.style,tn(r,o||r.img)),e.el.innerHTML="",e.el.appendChild(a)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var fn,hn={},gn=function(e,t,n){var o=document.createEvent("CustomEvent"),i={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};o.initCustomEvent("pswpTap",!0,!0,i),e.target.dispatchEvent(o)};Fe("Tap",{publicMethods:{initTap:function(){Ie("firstTouchStart",u.onTapStart),Ie("touchRelease",u.onTapRelease),Ie("destroy",function(){hn={},fn=null})},onTapStart:function(e){e.length>1&&(clearTimeout(fn),fn=null)},onTapRelease:function(e,t){if(t&&!V&&!q&&!Je){var n=t;if(fn&&(clearTimeout(fn),fn=null,xt(n,hn)))return void Te("doubleTap",n);if("mouse"===t.type)return void gn(e,t,"mouse");var o=e.target.tagName.toUpperCase();if("BUTTON"===o||i.hasClass(e.target,"pswp__single-tap"))return void gn(e,t);Le(hn,n),fn=setTimeout(function(){gn(e,t),fn=null},300)}}}});var En;Fe("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(M?Ie("mouseUsed",function(){u.setupDesktopZoom()}):u.setupDesktopZoom(!0))},setupDesktopZoom:function(t){En={};var n="wheel mousewheel DOMMouseScroll";Ie("bindEvents",function(){i.bind(e,n,u.handleMouseWheel)}),Ie("unbindEvents",function(){En&&i.unbind(e,n,u.handleMouseWheel)}),u.mouseZoomedIn=!1;var o,r=function(){u.mouseZoomedIn&&(i.removeClass(e,"pswp--zoomed-in"),u.mouseZoomedIn=!1),1>v?i.addClass(e,"pswp--zoom-allowed"):i.removeClass(e,"pswp--zoom-allowed"),a()},a=function(){o&&(i.removeClass(e,"pswp--dragging"),o=!1)};Ie("resize",r),Ie("afterChange",r),Ie("pointerDown",function(){u.mouseZoomedIn&&(o=!0,i.addClass(e,"pswp--dragging"))}),Ie("pointerUp",a),t||r()},handleMouseWheel:function(e){if(v<=u.currItem.fitRatio)return l.modal&&(!l.closeOnScroll||Je||K?e.preventDefault():_&&Math.abs(e.deltaY)>2&&(d=!0,u.close())),!0;if(e.stopPropagation(),En.x=0,"deltaX"in e)1===e.deltaMode?(En.x=18*e.deltaX,En.y=18*e.deltaY):(En.x=e.deltaX,En.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(En.x=-.16*e.wheelDeltaX),e.wheelDeltaY?En.y=-.16*e.wheelDeltaY:En.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;En.y=e.detail}He(v,!0);var t=fe.x-En.x,n=fe.y-En.y;(l.modal||t<=ne.min.x&&t>=ne.max.x&&n<=ne.min.y&&n>=ne.max.y)&&e.preventDefault(),u.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:he.x/2+Ee.x,y:he.y/2+Ee.y};var n=l.getDoubleTapZoom(!0,u.currItem),o=v===n;u.mouseZoomedIn=!o,u.zoomTo(o?u.currItem.initialZoomLevel:n,t,333),i[(o?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var vn,yn,wn,bn,xn,Cn,Fn,An,Dn,In,Tn,Sn,_n={history:!0,galleryUID:1},Bn=function(){return Tn.hash.substring(1)},Mn=function(){vn&&clearTimeout(vn),wn&&clearTimeout(wn)},On=function(){var e=Bn(),t={};if(e.length<5)return t;var n,o=e.split("&");for(n=0;n<o.length;n++)if(o[n]){var i=o[n].split("=");i.length<2||(t[i[0]]=i[1])}if(l.galleryPIDs){var u=t.pid;for(t.pid=0,n=0;n<Vt.length;n++)if(Vt[n].pid===u){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},kn=function(){if(wn&&clearTimeout(wn),Je||K)return void(wn=setTimeout(kn,500));bn?clearTimeout(yn):bn=!0;var e=p+1,t=Jt(p);t.hasOwnProperty("pid")&&(e=t.pid);var n=Fn+"&gid="+l.galleryUID+"&pid="+e;An||-1===Tn.hash.indexOf(n)&&(In=!0);var o=Tn.href.split("#")[0]+"#"+n;Sn?"#"+n!==window.location.hash&&history[An?"replaceState":"pushState"]("",document.title,o):An?Tn.replace(o):Tn.hash=n,An=!0,yn=setTimeout(function(){bn=!1},60)};Fe("History",{publicMethods:{initHistory:function(){if(i.extend(l,_n,!0),l.history){Tn=window.location,In=!1,Dn=!1,An=!1,Fn=Bn(),Sn="pushState"in history,Fn.indexOf("gid=")>-1&&(Fn=Fn.split("&gid=")[0],Fn=Fn.split("?gid=")[0]),Ie("afterChange",u.updateURL),Ie("unbindEvents",function(){i.unbind(window,"hashchange",u.onHashChange)});var e=function(){Cn=!0,Dn||(In?history.back():Fn?Tn.hash=Fn:Sn?history.pushState("",document.title,Tn.pathname+Tn.search):Tn.hash=""),Mn()};Ie("unbindEvents",function(){d&&e()}),Ie("destroy",function(){Cn||e()}),Ie("firstUpdate",function(){p=On().pid});var t=Fn.indexOf("pid=");t>-1&&(Fn=Fn.substring(0,t),"&"===Fn.slice(-1)&&(Fn=Fn.slice(0,-1))),setTimeout(function(){s&&i.bind(window,"hashchange",u.onHashChange)},40)}},onHashChange:function(){return Bn()===Fn?(Dn=!0,void u.close()):void(bn||(xn=!0,u.goTo(On().pid),xn=!1))},updateURL:function(){Mn(),xn||(An?vn=setTimeout(kn,800):kn())}}}),i.extend(u,ot)};return e})},{}],"/sites/_libraries/natural-gallery.lan/node_modules/photoswipe/dist/photoswipe-ui-default.js":[function(e,t,n){!function(e,o){"function"==typeof define&&define.amd?define(o):"object"==typeof n?t.exports=o():e.PhotoSwipeUI_Default=o()}(this,function(){"use strict";var e=function(e,t){var n,o,i,u,r,a,l,s,c,d,p,m,f,h,g,E,v,y,w,b=this,x=!1,C=!0,F=!0,A={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},D=function(e){if(E)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!c&&z();for(var n,o,i=e.target||e.srcElement,u=i.getAttribute("class")||"",r=0;r<W.length;r++)n=W[r],n.onTap&&u.indexOf("pswp__"+n.name)>-1&&(n.onTap(),o=!0);if(o){e.stopPropagation&&e.stopPropagation(),E=!0;var a=t.features.isOldAndroid?600:30;v=setTimeout(function(){E=!1},a)}},I=function(){return!e.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},T=function(e,n,o){t[(o?"add":"remove")+"Class"](e,"pswp__"+n)},S=function(){var e=1===g.getNumItemsFn();e!==h&&(T(o,"ui--one-slide",e),h=e)},_=function(){T(l,"share-modal--hidden",F)},B=function(){return F=!F,F?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){F&&_()},300)):(_(),setTimeout(function(){F||t.addClass(l,"pswp__share-modal--fade-in")},30)),F||O(),!1},M=function(t){t=t||window.event;var n=t.target||t.srcElement;return e.shout("shareLinkClick",t,n),n.href?n.hasAttribute("download")?!0:(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),F||B(),!1):!1},O=function(){for(var e,t,n,o,i,u="",r=0;r<g.shareButtons.length;r++)e=g.shareButtons[r],n=g.getImageURLForShare(e),o=g.getPageURLForShare(e),i=g.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(o)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(i)),u+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(u=g.parseShareButtonOut(e,u));l.children[0].innerHTML=u,l.children[0].onclick=M},k=function(e){for(var n=0;n<g.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+g.closeElClasses[n]))return!0},R=0,z=function(){clearTimeout(w),R=0,c&&b.setIdle(!1)},L=function(e){e=e?e:window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(w),w=setTimeout(function(){b.setIdle(!0)},g.timeToIdleOutside))},P=function(){g.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=b.getFullscreenAPI()),n?(t.bind(document,n.eventK,b.updateFullscreen),b.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},Z=function(){g.preloaderEl&&(N(!0),d("beforeChange",function(){clearTimeout(f),f=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&N(!1):N(!0)},g.loadingIndicatorDelay)}),d("imageLoadComplete",function(t,n){e.currItem===n&&N(!0)}))},N=function(e){m!==e&&(T(p,"preloader--active",!e),m=e)},G=function(e){var n=e.vGap;if(I()){var r=g.barsSize;if(g.captionEl&&"auto"===r.bottom)if(u||(u=t.createEl("pswp__caption pswp__caption--fake"),u.appendChild(t.createEl("pswp__caption__center")),o.insertBefore(u,i),t.addClass(o,"pswp__ui--fit")),g.addCaptionHTMLFn(e,u,!0)){var a=u.clientHeight;n.bottom=parseInt(a,10)||44}else n.bottom=r.top;else n.bottom="auto"===r.bottom?0:r.bottom;n.top=r.top}else n.top=n.bottom=0},U=function(){g.timeToIdle&&d("mouseUsed",function(){t.bind(document,"mousemove",z),t.bind(document,"mouseout",L),y=setInterval(function(){R++,2===R&&b.setIdle(!0)},g.timeToIdle/2)})},H=function(){d("onVerticalDrag",function(e){C&&.95>e?b.hideControls():!C&&e>=.95&&b.showControls()});var e;d("onPinchClose",function(t){C&&.9>t?(b.hideControls(),e=!0):e&&!C&&t>.9&&b.showControls()}),d("zoomGestureEnded",function(){e=!1,e&&!C&&b.showControls()})},W=[{name:"caption",option:"captionEl",onInit:function(e){i=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){B()}},{name:"button--share",option:"shareEl",onInit:function(e){a=e},onTap:function(){B()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){r=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){p=e}}],$=function(){var e,n,i,u=function(o){if(o)for(var u=o.length,r=0;u>r;r++){e=o[r],n=e.className;for(var a=0;a<W.length;a++)i=W[a],n.indexOf("pswp__"+i.name)>-1&&(g[i.option]?(t.removeClass(e,"pswp__element--disabled"),i.onInit&&i.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};u(o.children);var r=t.getChildByClass(o,"pswp__top-bar");r&&u(r.children)};b.init=function(){t.extend(e.options,A,!0),g=e.options,o=t.getChildByClass(e.scrollWrap,"pswp__ui"),d=e.listen,H(),d("beforeChange",b.update),d("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)}),d("preventDragEvent",function(e,t,n){var o=e.target||e.srcElement;o&&o.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(o.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)}),d("bindEvents",function(){t.bind(o,"pswpTap click",D),t.bind(e.scrollWrap,"pswpTap",b.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",b.onMouseOver)}),d("unbindEvents",function(){F||B(),y&&clearInterval(y),t.unbind(document,"mouseout",L),t.unbind(document,"mousemove",z),t.unbind(o,"pswpTap click",D),t.unbind(e.scrollWrap,"pswpTap",b.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",b.onMouseOver),n&&(t.unbind(document,n.eventK,b.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)}),d("destroy",function(){g.captionEl&&(u&&o.removeChild(u),t.removeClass(i,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(o,"pswp__ui--over-close"),t.addClass(o,"pswp__ui--hidden"),b.setIdle(!1)}),g.showAnimationDuration||t.removeClass(o,"pswp__ui--hidden"),d("initialZoomIn",function(){g.showAnimationDuration&&t.removeClass(o,"pswp__ui--hidden")}),d("initialZoomOut",function(){t.addClass(o,"pswp__ui--hidden")}),d("parseVerticalMargin",G),$(),g.shareEl&&a&&l&&(F=!0),S(),U(),P(),Z()},b.setIdle=function(e){c=e,T(o,"ui--idle",e)},b.update=function(){C&&e.currItem?(b.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,i),T(i,"caption--empty",!e.currItem.title)),x=!0):x=!1,F||B(),S()},b.updateFullscreen=function(o){o&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},b.updateIndexIndicator=function(){g.counterEl&&(r.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},b.onGlobalTap=function(n){n=n||window.event;var o=n.target||n.srcElement;if(!E)if(n.detail&&"mouse"===n.detail.pointerType){if(k(o))return void e.close();t.hasClass(o,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(C?b.hideControls():b.showControls()),g.tapToClose&&(t.hasClass(o,"pswp__img")||k(o)))return void e.close()},b.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;T(o,"ui--over-close",k(t))},b.hideControls=function(){t.addClass(o,"pswp__ui--hidden"),C=!1},b.showControls=function(){C=!0,x||b.update(),t.removeClass(o,"pswp__ui--hidden")},b.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},b.getFullscreenAPI=function(){var t,n=document.documentElement,o="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return s=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=s,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e})},{}]},{},["/sites/_libraries/natural-gallery.lan/app/build.js"]);